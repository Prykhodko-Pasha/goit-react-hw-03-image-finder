{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","services/images-api.js","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","fetchImages","query","pageNumber","fetch","then","response","json","catch","error","Promise","reject","Searchbar","state","onChange","e","setState","currentTarget","value","trim","onSubmit","preventDefault","props","onSearch","className","s","SearchForm","this","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","React","Component","Loader","ImageGallery","height","ImageGalleryItem","id","webformatURL","largeImageURL","src","alt","ImageGalleryItem__image","imagesArr","onOpenModal","onClick","target","map","index","Button","onLoadMore","Modal","onKeyDown","code","onClose","onClickBackdrop","window","addEventListener","removeEventListener","Overlay","children","App","searchQuery","images","status","showLoadMoreBtn","showModal","errorMessage","generateSearchQueryResult","data","hits","length","totalPages","Math","ceil","total","usableImageKeysArr","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","err","img","includes","dataset","onCloseModal","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bd6af9f0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__31OTK\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1dTan\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__-6szL\",\"Modal\":\"Modal_Modal__1hkZ0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1N0Z6\"};","const API_KEY = '22963299-57829f6e237632471c998bdfc';\r\n\r\nexport default function fetchImages(query, pageNumber) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  )\r\n    .then(response => response.json())\r\n    .catch(error => Promise.reject(error));\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends React.Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  static propTypes = {\r\n    onSearch: PropTypes.func.isRequired,\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ query: e.currentTarget.value.trim() });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSearch(this.state.query);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.onSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <span className={s.SearchForm__button__label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ id, webformatURL, largeImageURL }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        id={id}\r\n        src={webformatURL}\r\n        alt=\"\"\r\n        className={s.ImageGalleryItem__image}\r\n        data-src={largeImageURL}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport default function ImageGallery({ imagesArr, onOpenModal }) {\r\n  return (\r\n    <ul className={s.ImageGallery} onClick={e => onOpenModal(e.target)}>\r\n      {imagesArr.map(({ id, webformatURL, largeImageURL }, index) => (\r\n        <ImageGalleryItem\r\n          key={index}\r\n          id={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  imagesArr: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  onOpenModal: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ onLoadMore }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nexport default class Modal extends React.Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    children: PropTypes.element.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onKeyDown);\r\n  }\r\n\r\n  onKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onClickBackdrop = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.onClickBackdrop}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport fetchImages from '../services/images-api';\nimport Searchbar from './Searchbar/Searchbar';\nimport Loader from './Loader/Loader';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Modal from './Modal/Modal';\n\nexport default class App extends React.Component {\n  state = {\n    searchQuery: '',\n    images: [],\n    status: 'idle',\n    pageNumber: 1,\n    showLoadMoreBtn: false,\n    showModal: false,\n    errorMessage: '',\n    src: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { pageNumber, searchQuery } = this.state;\n    if (prevState.searchQuery !== searchQuery) {\n      this.setState({ images: [], status: 'pending', pageNumber: 1 });\n      this.generateSearchQueryResult(searchQuery, pageNumber);\n    }\n  }\n\n  generateSearchQueryResult = (searchQuery, pageNumber) => {\n    fetchImages(searchQuery, pageNumber)\n      .then(data => {\n        if (data.hits.length === 0) {\n          this.setState({\n            status: 'rejected',\n            errorMessage: 'No matches found :(',\n          });\n        } else {\n          // const usableImageKeysArr = [];\n          const totalPages = Math.ceil(data.total / 12);\n          const usableImageKeysArr = data.hits.map(\n            ({ id, webformatURL, largeImageURL }) => {\n              return {\n                id,\n                webformatURL,\n                largeImageURL,\n              };\n            },\n          );\n\n          this.setState(prevState => ({\n            images: [...prevState.images, ...usableImageKeysArr],\n            status: 'resolved',\n            showLoadMoreBtn: totalPages === pageNumber ? false : true,\n          }));\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      })\n      .catch(err => {\n        this.setState({\n          status: 'rejected',\n          errorMessage: `There is an error: ${err}`,\n        });\n      });\n  };\n\n  onSearch = query => {\n    this.setState({ searchQuery: query });\n  };\n\n  onOpenModal = img => {\n    if (img.className.includes('ImageGalleryItem__image')) {\n      this.setState({ showModal: true, src: img.dataset.src });\n    }\n  };\n\n  onCloseModal = () => {\n    this.setState({ showModal: false, src: '' });\n  };\n\n  onLoadMore = () => {\n    this.setState(\n      prevState => ({\n        pageNumber: prevState.pageNumber + 1,\n        status: 'pending',\n      }),\n      () => {\n        const { searchQuery, pageNumber } = this.state;\n        this.generateSearchQueryResult(searchQuery, pageNumber);\n      },\n    );\n  };\n\n  render() {\n    const { images, status, showLoadMoreBtn, errorMessage, showModal, src } =\n      this.state;\n    return (\n      <>\n        <Searchbar onSearch={this.onSearch} />\n        {status === 'idle' && <p className=\"Msg\">Enter search query :)</p>}\n        {status === 'pending' && (\n          <>\n            {images.length !== 0 && <ImageGallery imagesArr={images} />}\n            <Loader />\n            <div className=\"loadMoreReplacer\"></div>\n          </>\n        )}\n        {status === 'rejected' && <p className=\"Msg\">{errorMessage}</p>}\n        {status === 'resolved' && (\n          <>\n            <ImageGallery imagesArr={images} onOpenModal={this.onOpenModal} />\n            {showLoadMoreBtn && <Button onLoadMore={this.onLoadMore} />}\n          </>\n        )}\n        {showModal && (\n          <Modal onClose={this.onCloseModal}>\n            <img src={src} alt=\"\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3Thki\",\"SearchForm\":\"Searchbar_SearchForm__1ie-E\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3ca0t\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__LYSou\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1xLo7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__pp_ZD\"};"],"sourceRoot":""}