{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","services/images-api.js","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/MainInfo/MainInfo.js","components/Modal/Modal.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","query","onChange","e","setState","currentTarget","value","trim","onSubmit","preventDefault","props","onSearch","className","s","SearchForm","this","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","React","Component","fetchImages","pageNumber","fetch","then","response","json","catch","error","Promise","reject","Loader","ImageGallery","height","ImageGalleryItem","id","webformatURL","largeImageURL","src","alt","ImageGalleryItem__image","imagesArr","onOpenModal","onClick","target","map","Button","onLoadMore","MainInfo","images","status","loadMore","errorMessage","generateSearchQueryResult","searchQuery","data","hits","length","usableImageKeysArr","totalPages","Math","ceil","total","push","prevState","err","prevProps","window","scrollTo","top","document","documentElement","scrollHeight","behavior","Modal","onKeyDown","code","onClose","onClickBackdrop","addEventListener","removeEventListener","Overlay","children","ImageFinder","showModal","img","includes","dataset","onCloseModal","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8c258471.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__31OTK\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1dTan\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__-6szL\",\"Modal\":\"Modal_Modal__1hkZ0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1N0Z6\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends React.Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  static propTypes = {\r\n    onSearch: PropTypes.func.isRequired,\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ query: e.currentTarget.value.trim() });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSearch(this.state.query);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.onSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <span className={s.SearchForm__button__label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","const API_KEY = '22963299-57829f6e237632471c998bdfc';\r\n\r\nexport default function fetchImages(query, pageNumber) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  )\r\n    .then(response => response.json())\r\n    .catch(error => Promise.reject(error));\r\n}\r\n","import React from 'react';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n      <li>\r\n        <Skeleton height={260} />\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ id, webformatURL, largeImageURL }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        id={id}\r\n        src={webformatURL}\r\n        alt=\"\"\r\n        className={s.ImageGalleryItem__image}\r\n        data-src={largeImageURL}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport default function ImageGallery({ imagesArr, onOpenModal }) {\r\n  return (\r\n    <ul className={s.ImageGallery} onClick={e => onOpenModal(e.target)}>\r\n      {imagesArr.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          id={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  imagesArr: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  onOpenModal: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ onLoadMore }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport fetchImages from '../../services/images-api';\r\nimport Loader from '../Loader/Loader';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport Button from '../Button/Button';\r\n\r\nexport default class MainInfo extends React.Component {\r\n  state = {\r\n    images: [],\r\n    status: 'idle',\r\n    loadMore: false,\r\n    pageNumber: 1,\r\n    errorMessage: '',\r\n  };\r\n\r\n  static propTypes = {\r\n    searchQuery: PropTypes.string.isRequired,\r\n    onOpenModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { pageNumber } = this.state;\r\n    const searchQuery = this.props.searchQuery;\r\n    if (prevProps.searchQuery !== searchQuery) {\r\n      this.setState({ images: [], status: 'pending', pageNumber: 1 });\r\n      this.generateSearchQueryResult(searchQuery, pageNumber);\r\n    }\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  generateSearchQueryResult = (searchQuery, pageNumber) => {\r\n    fetchImages(searchQuery, pageNumber)\r\n      .then(data => {\r\n        if (data.hits.length === 0) {\r\n          this.setState({\r\n            status: 'rejected',\r\n            errorMessage: 'No matches found :(',\r\n          });\r\n        } else {\r\n          const usableImageKeysArr = [];\r\n          const totalPages = Math.ceil(data.total / 12);\r\n\r\n          data.hits.map(({ id, webformatURL, largeImageURL }) =>\r\n            usableImageKeysArr.push({ id, webformatURL, largeImageURL }),\r\n          );\r\n\r\n          return this.setState(prevState => ({\r\n            images: [...prevState.images, ...usableImageKeysArr],\r\n            status: 'resolved',\r\n            loadMore: totalPages === pageNumber ? false : true,\r\n          }));\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          status: 'rejected',\r\n          errorMessage: `There is an error: ${err}`,\r\n        });\r\n      });\r\n  };\r\n\r\n  onLoadMore = () => {\r\n    this.setState(\r\n      prevState => ({\r\n        pageNumber: prevState.pageNumber + 1,\r\n        status: 'pending',\r\n      }),\r\n      () => {\r\n        const searchQuery = this.props.searchQuery;\r\n        const { pageNumber } = this.state;\r\n        this.generateSearchQueryResult(searchQuery, pageNumber);\r\n      },\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { images, status, loadMore, errorMessage } = this.state;\r\n\r\n    if (status === 'idle') {\r\n      return <p className=\"Msg\">Enter search query :)</p>;\r\n    }\r\n    if (status === 'pending') {\r\n      return (\r\n        <>\r\n          {images.length !== 0 ? <ImageGallery imagesArr={images} /> : <></>}\r\n          <Loader />\r\n          <div className=\"loadMoreReplacer\"></div>\r\n        </>\r\n      );\r\n    }\r\n    if (status === 'rejected') {\r\n      return <p className=\"Msg\">{errorMessage}</p>;\r\n    }\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n          <ImageGallery\r\n            imagesArr={images}\r\n            onOpenModal={this.props.onOpenModal}\r\n          />\r\n          {loadMore && <Button onLoadMore={this.onLoadMore} />}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nexport default class Modal extends React.Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    children: PropTypes.element.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onKeyDown);\r\n  }\r\n\r\n  onKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onClickBackdrop = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.onClickBackdrop}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport Searchbar from './Searchbar/Searchbar';\nimport MainInfo from './MainInfo/MainInfo';\nimport Modal from './Modal/Modal';\n\nexport default class ImageFinder extends React.Component {\n  state = {\n    searchQuery: '',\n    showModal: false,\n    src: '',\n  };\n\n  onSearch = query => {\n    this.setState({ searchQuery: query });\n  };\n\n  onOpenModal = img => {\n    if (img.className.includes('ImageGalleryItem__image')) {\n      this.setState({ showModal: true, src: img.dataset.src });\n    }\n  };\n\n  onCloseModal = () => {\n    this.setState({ showModal: false, src: '' });\n  };\n\n  render() {\n    const { searchQuery, showModal, src } = this.state;\n    return (\n      <>\n        <Searchbar onSearch={this.onSearch} />\n        <MainInfo searchQuery={searchQuery} onOpenModal={this.onOpenModal} />\n        {showModal && (\n          <Modal onClose={this.onCloseModal}>\n            <img src={src} alt=\"\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3Thki\",\"SearchForm\":\"Searchbar_SearchForm__1ie-E\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3ca0t\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__LYSou\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1xLo7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__pp_ZD\"};"],"sourceRoot":""}